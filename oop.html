<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cool Ball - by zhuchen</title>
    <style>
        body{
            /* background-color: black; */
        }
        .ball{
            position: absolute;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id='box'></div>
    <script>
        function Ball(x,y){
            this.x = x;
            this.y = y;
            this.r = 20;
            this.opacity = 1;
            this.color = this.getRandomColor();
            this.dX = 20;
            this.dY = 20;
            this.init();
            ballArr.push(this);
        }
        Ball.prototype.getRandomColor = function(){
            var colorArr = ['red','blue','yellow','orange'];
            return colorArr[parseInt(Math.random() * (4 - 0 + 1) + 0)]; // parseInt(Math.random() * (max - min + 1) + min )
        }
        Ball.prototype.init =  function(){
            this.bom = document.createElement('div');
            this.bom.className = 'ball';
            this.bom.style.backgroundColor = this.color;
            this.bom.style.height = this.r * 2 + 'px';
            this.bom.style.width = this.r * 2 + 'px';
            this.bom.style.left = this.x - this.r + 'px';
            this.bom.style.top = this.y - this.r + 'px';
            //on the tree
            var box = document.getElementById('box');
            box.appendChild(this.bom);
        }
        Ball.prototype.update = function(){
            //modify postion
            this.x += this.dX;
            this.y += this.dY;
            //modify radius
            this.r += 0.2;
            //modify opacity
            this.opacity -= 0.1;

            }
            //modify style based on data above
            this.bom.style.height = this.r * 2 + 'px';
            this.bom.style.width = this.r * 2 + 'px';
            this.bom.style.left = this.x - this.r + 'px';
            this.bom.style.top = this.y - this.r + 'px';
            this.bom.style.opacity = this.opacity;
            this.bom.style.backgroundColor = this.color;

        }
        var ballArr = [];
       setInterval(function(){
            for (var i = 0; i < ballArr.lenght; i++) {
               ballArr[i].update();
           }
       }, 20);

    document.onmousemove = function(e){
        var x = e.clientX;
        var y = e.clientY;
        new Ball(x,y);
    }
    </script>
</body>
</html>